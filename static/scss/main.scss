// ============================================================
// MAIN SCSS ENTRY POINT
// Imports organized following the official Sass architecture pattern
// Variables → Bootstrap → Layout → Components → Utilities
// ============================================================

// ============================================================
// 1) BOOTSTRAP PREREQUISITES
// Core functions needed for variable customization
// ============================================================
@import "bootstrap/scss/functions";

// ============================================================
// 2) PROJECT VARIABLES & CUSTOMIZATION
// Must come before Bootstrap to override defaults
// ============================================================
@import "variables";                    // Global design tokens and component variables
@import "bootstrap/scss/variables";     // Bootstrap defaults (needed for map merging)
@import "maps";                         // Theme color extensions and utility maps

// ============================================================
// 3) BOOTSTRAP FRAMEWORK
// Complete Bootstrap framework import
// ============================================================
@import "bootstrap/scss/bootstrap";

// ============================================================
// 4) LAYOUT COMPONENTS
// Global layout structures and typography systems
// ============================================================
@import "layout/footer";                // Site footer with links and branding
@import "layout/prose";                 // Long-form article typography
@import "layout/guides";                // Guide/landing page component system

// ============================================================
// 5) UI COMPONENTS
// Individual interface components following BEM methodology
// ============================================================
@import "components/buttons";           // Global button token enforcement
@import "components/brand";             // Site logo and branding
@import "components/site-banner";       // Sticky header with search (BEM compliant)
@import "components/promo-banner";      // Homepage promotional banner (BEM compliant)
@import "components/hero";              // Hero section (legacy global selectors - grandfathered)

// Global layout/base document styles
// Dark charcoal solid background (no gradient to ensure browser chrome detects dark theme)
.app-body {
	background-color: $base-html-bg;
	min-height: 100vh;
	// Improve font rendering on dark background
	-webkit-font-smoothing: antialiased;
	-moz-osx-font-smoothing: grayscale;
	overflow-x: hidden; // Prevent horizontal scroll during transform
	
	// Mobile menu open state - prevent body scroll (CSP-compliant)
	&.mobile-menu-open {
		overflow: hidden;
	}
}

// Page content wrapper for theater curtain footer reveal effect
.page-content-wrapper {
	position: relative;
	z-index: 10; // Above footer
	background-color: $base-html-bg; // Match body background
	min-height: 100vh;
	// Reduced padding for compact footer - ensures smooth footer reveal transition
	padding-bottom: 60px; // Reduced from 100px to accommodate smaller footer
	transition: transform 0.3s cubic-bezier(0.4, 0, 0.2, 1);
	will-change: transform;
	
	// Add subtle shadow when lifted
	&.footer-revealing {
		box-shadow: 0 -10px 40px rgba(0, 0, 0, 0.5);
	}
	
	// CSP-compliant transform using CSS custom property
	// Set via JavaScript: element.style.setProperty('--footer-reveal-offset', '100px')
	&.footer-reveal-active {
		transform: var(--footer-reveal-offset, translateY(0));
	}
	
	// Override for pages without footer (e.g., dashboard)
	// Removes extra padding and sets min-height to auto to prevent unnecessary scrolling
	&--no-footer {
		min-height: auto;
		padding-bottom: 0;
	}
}

// Mobile browser bottom navigation bar styling
// Ensures browser chrome matches dark theme with glassmorphism
.bottom-nav {
	background: rgba(20, 20, 20, 0.7);
	backdrop-filter: blur(8px);
	-webkit-backdrop-filter: blur(8px); // Safari support
	color: #fff;
}

// NOTE: Button tokens ($btn-*) are available in _variables.scss for consistent
// styling across components. Use these variables to maintain design system consistency.
