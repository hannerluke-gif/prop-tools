// ============================================================
// PROSE TYPOGRAPHY SYSTEM
// 
// Lightweight typography component for free-form content within guides.
// Apply .prose class to containers with basic HTML elements that need styling.
// 
// Features:
// * Basic paragraph and inline element styling
// * Button spacing adjustments for content flow
// * Generic details/summary support
// * Bootstrap utility overrides where needed
// 
// Note: Structured content (headings, lists, etc.) is handled by the guide system
// ============================================================

.prose {
  // Base text inherits page color unless overridden; guides set $text-color
  line-height: 1.65;
  font-size: 1.05rem;
  color: inherit; // Ensure prose inherits color from parent (guide sets white)

  // Headings - h1/h2 handled by guide system, keeping h3/h4 for free-form content
  h3, h4, h5, h6 {
    font-weight: $weight-bold;
    line-height: 1.25;
    scroll-margin-top: 6rem; // better anchor offset below sticky header
  }
  
  h3 { font-size: 1.25rem; margin-top: 1.8rem; margin-bottom: 0.6rem; }
  h4 { font-size: 1.1rem; margin-top: 1.6rem; margin-bottom: 0.5rem; }

  p { margin-bottom: 1.1rem; }
  p.lead { 
    font-size: 1.15rem; 
    line-height: 1.55; 
  }

  // Generic details/summary formatting (FAQ styling is handled by guide component)
  details { margin-bottom: 1rem; }
  details > summary { 
    font-weight: $weight-semibold; 
    cursor: pointer; 
    transition: color $text-link-transition-duration ease;
    
    &:focus-visible { 
      outline: 0; 
      box-shadow: 0 0 0 3px rgba($btn-bg, 0.4); 
      border-radius: .25rem; 
    }
  }

  // Utility overrides: keep secondary text readable in generic prose
  .text-secondary, 
  .text-muted { 
    opacity: 0.9; 
  }

  // Buttons inside prose blocks: tighten top margin when following text
  p + .btn, 
  p + .btn-group, 
  p + .d-flex { 
    margin-top: 0.4rem; 
  }

  // Last child adjustments
  // Note: !important needed to override Bootstrap utility classes in content
  > :last-child { margin-bottom: 0 !important; }
}
